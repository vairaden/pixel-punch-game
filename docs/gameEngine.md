# Игровой движок

- [Базовые классы](#базовые-классы)
  - [GameEngine](#gameengine)
  - [AbstractGameObject](#gameobject)
  - [Расчет столкновений](#расчет-столкновений)
- [Классы игровых объектов](#классы-игровых-объектов)
  - [Hero](#hero)
  - [Base](#base)
  - [Enemy](#enemy)
  - [Bullet](#bullet)

## Базовые классы

### GameEngine

Основной класс. Здесь содержится основная логика работы игры, взаимодействие игрока с героем, обновление состояний объектов и их отрисовка.

Аргументы конструктора

|    Имя     | Описание                                                                                                    |
| :--------: | :---------------------------------------------------------------------------------------------------------- |
| **canvas** | Canvas компонент, необходим для расчетов координат и размеров объектовБ относительно размеров игрового поля |
|  **ctx**   | 2D контекст на котором будет рисоваться игра                                                                |

### GameObject

Абстрактный класс игрового объекта, содержит интерфейс необходимый для оперирования объектами в `GameEngine`

Аргументы конструктора:

|    Имя     | Описание                                     |
| :--------: | :------------------------------------------- |
|   **x**    | Координата объекта по оси х                  |
|   **y**    | Координата объекта по оси у                  |
|  **ctx**   | 2D контекст на котором будет рисоваться игра |
| **canvas** | Canvas компонент                             |

Абстрактные методы для реализации в классах наследниках:

|    Имя     | Описание                                                            |
| :--------: | :------------------------------------------------------------------ |
| **update** | Метод для обновления состояния объекта (координаты, скорость и пр.) |
|  **draw**  | Метод для отрисовки объекта внутри контекста canvas                 |

### Расчет столкновений

Вспомогательная функция `isCollision` проверяет пересекаются ли между собой два игровых объекта. Игровые объекты могут иметь форму окружности, а также форму прямоугольника. Функция `isCollision` проверяет все комбинации формы объекта и рассчитывает пересечение между ними.

Возвращает `true` в случае, если два объекта пересекаются между собой.

## Классы игровых объектов

### Hero

Описывает логику работы с объектом игрока, наследуется от класса `GameObject`, расширяет его следующими методами:

| Метод                             | Описание                                                        |
| :-------------------------------- | :-------------------------------------------------------------- |
| **moveUp()**                      | двигает игрока вверх по игровому полю                           |
| **moveDown()**                    | двигает игрока вниз по игровому полю                            |
| **moveLeft()**                    | двигает игрока влево по игровому полю                           |
| **moveRight()**                   | двигает игрока вправо по игровому полю                          |
| **stopX()**                       | останавливает игрока по оси х                                   |
| **stopY()**                       | останавливает игрока по оси у                                   |
| **stop()**                        | останавливает движение игрока полностью                         |
| **getDamage()**                   | позволяет движку получить значение урона, которое наносит герой |
| **recieveDamage(damage: number)** | наносит урон игроку                                             |

### Base

Описывает логику работы с объектом базы, наследуется от класса `GameObject`, расширяет его следующими методами:

| Метод                             | Описание                                    |
| :-------------------------------- | :------------------------------------------ |
| **receiveDamage(damage: number)** | наносит урон базе                           |
| **drawHealth()**                  | отрисовывает текущее значение здоровья базы |

### Enemy

Описывает логику работы с объектом противника, наследуется от класса `GameObject`, расширяет его следующими методами:

| Метод                             | Описание                                                            |
| :-------------------------------- | :------------------------------------------------------------------ |
| **move()**                        | двигает противника к базе                                           |
| **stop()**                        | останавливает движение противника                                   |
| **recieveDamage(damage: number)** | наносит урон противнику                                             |
| **getDamage()**                   | позволяет движку получить значение урона, которое наносит противник |
| **getAttackSpeed()**              | позволяет движку получить значение интервала атаки противника       |

### Bullet

Описывает логику работы с объектом снаряда игрока, наследуется от класса `GameObject`, расширяет его следующим методом:

| Метод                                         | Описание                                                                 |
| :-------------------------------------------- | :----------------------------------------------------------------------- |
| **shoot(start: Coordinate, end: Coordinate)** | производит выстрел снаряда по направлению из точки `start` в точку `end` |
